<!DOCTYPE html>
<html lang="en">
<head>
  <title> classes dynamic</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
      body {  }
      button:hover {border:1px solid rgb(0,0,0);}
      button:active {background-color: #d5d5dd;}
      .item-btn {margin-right: 5px;}
    .item-div {margin-bottom:4px;}

    .inactive-btn {border:1px solid rgb(143,143,157); border-radius: 4px;
             background-color: rgb(233,233,237); padding: 2px 5px; 
             cursor: pointer; min-width: 180px;}
    
    .counter {margin-right: 10px; min-width: 10px; padding: 1px 4px; 
              background-color: rgb(233,233,237); border-radius: 4px; 
              color: rgb(233,233,237); font-family: Arial, Helvetica, sans-serif; } 

    .inactive-counter { border:none;  }
    .active-counter { color: black; } 
    .active-counter-limit { color: black; border: 1px solid red;
                              background-color: #ffe6e6;}


  </style>
</head>
<body>

<div class="section" id="s1">

<p>Proteins 
  <span>count: </span>
  <span class="counter inactive-counter" id="s1c">
    0</span>
</p>
<p>(choose 2)</p>

<div class="item-div">
  <button id="i1" class="item-btn inactive-btn ">Item 1</button>
  <span id="i1c" class="counter inactive-counter">0</span>
</div>

<div class="item-div">
  <button id="i2" class="item-btn inactive-btn">Item 2</button>
  <span id="i2c" class="counter inactive-counter" >0</span>
</div>

<div class="item-div">
  <button id="i3" class="item-btn inactive-btn">Item 3</button>
  <span id="i3c" class="counter inactive-counter" >0</span>
</div>

<div class="item-div">
  <button id="i4" class="item-btn inactive-btn">Item 4</button>
  <span id="i4c" class="counter inactive-counter" >0</span>
</div>

</div> <!--section 1 end-->

<script>

const s1 = {
  name : 'Proteins',
  count : 0,
  limit : 2,
  counter : document.querySelector('#s1c'),
};

const item1 = {
  name : 'Tilapia',
  count : 0,
  limit : null,
  selected : false,
  at_limit : false,
  button : document.querySelector('#i1'),
  counter : document.querySelector('#i1c'),
};
const item2 = {
  name : 'Chicken Breast',
  count : 0,
  limit : null,
  selected : false,
  at_limit : false,
  button : document.querySelector('#i2'),
  counter : document.querySelector('#i2c'),
};
const item3 = {
  name : 'Pork Chop',
  count : 0,
  limit : null,
  selected : false,
  at_limit : false,
  button : document.querySelector('#i3'),
  counter : document.querySelector('#i3c'),
};
const item4 = {
  name : 'Tempeh',
  count : 0,
  limit : null,
  selected : false,
  at_limit : false,
  button : document.querySelector('#i4'),
  counter : document.querySelector('#i4c'),
};

item1.button.addEventListener('click', () => {
  select();
});

item1.button.innerHTML = item1.name;

function select() {
  if (s1.count == s1.limit) {}

  if (item1.count == 0) {
    activate(item1);
    if (s1.count == 0) { activate(s1); }
  }
  item1.count++;
  item1.selected = true;
  s1.count++;
  item1.counter.textContent = item1.count;
  s1.counter.textContent = item1.count;
  console.log(item1.count);

  if (s1.count == s1.limit) {
    activate_limit(s1);
    activate_limit(item1);
    disable_unselected_items();
  }
}

function activate(element) {
  element.counter.classList.remove('inactive-counter');
  element.counter.classList.add('active-counter');
}
function activate_limit(element) {
  element.counter.classList.remove('active-counter');
  element.counter.classList.add('active-counter-limit');
}
// Array of button IDs
const s1_items = [item1, item2, item3, item4];

function disable_unselected_items() {
// Loop through IDs and disable
s1_items.forEach(item => {
  if (item.selected == false) {
    item.button.disabled = true; // Sets the disabled attribute to true
  }
});
}











</script>
</body>
</html>
